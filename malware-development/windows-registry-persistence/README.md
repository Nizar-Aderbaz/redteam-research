# Registry Persistence Technique

This demonstration shows how malware can use Windows Registry for persistence and data storage.

## Technique Overview

Malware uses registry persistence to:
- Survive system reboots and user logoffs
- Store payloads, configuration data, or commands
- Maintain persistent access to compromised systems
- Hide malicious data in legitimate Windows storage

## How Malware Uses This

### Persistence Mechanisms
- **Run Keys**: Execute malware on user login
- **Service Registrations**: Register as a system service
- **COM Object Hijacking**: Redirect legitimate components
- **Binary Data Storage**: Store encoded/encrypted payloads

### Common Registry Locations
HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run
HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunOnce

## Technical Details

### This Implementation
- Stores binary data in custom registry key
- Retrieves and reconstructs stored data
- Uses standard Windows API functions
- Avoids common detection patterns

### Malware Advantages
- **Stealth**: Registry data blends with legitimate entries
- **Persistence**: Survives reboots and user sessions
- **Flexibility**: Can store various data types
- **Evasion**: Bypasses file-based detection

## Compilation & Usage

```bash
# Compile
gcc registry-persistence.c -o registry-persistence.exe

# Execute
./registry-persistence.exe
